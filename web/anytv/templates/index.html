{% extends 'base_index.html'%}
{% load static %}
{% block homepage %}

{% if item_num %}
<div class="ui content segment">
<div class="ui six cards">
{% for i in items %}


  <div class="card" >
   <a href='{{ i.url }}' target="_blank">
    <div class="image">
     <img src="{% static 'images/room_img/' %}{{ i.room_pic }}" style="width:100%;height: 100%" />
    </div>
   <div class="content">
    <a>
     <div class="header">
      {{ i.owner }}
     </div>
     <div class="meta">
      <a>{{ i.data_from }}</a>
     </div></a>
    <div class="description">
     {{ i.title }}
    </div>
   </div>
   <div class="extra content">
    <span class="right floated">{{ i.tag }} </span>
    <span><i class="user icon"></i> {{ i.obs }} </span>
   </div>
       </a>
  </div>


{% endfor %}

</div>

 </div>
<div class="ui small pagination menu" style="margin: 0 auto">
    {% if items.has_previous %}
    <a class="icon item" href=javascript:gotoUrl({{ items.previous_page_number }})>
        <i class="left arrow icon"></i>
    </a>
    {% endif %}

    <div class="disabled item"> {{ items.number }} of {{ items.paginator.num_pages }} </div>

    {% if items.has_next %}
    <a class="icon item" href=javascript:gotoUrl({{ items.next_page_number }})>
        <i class="right arrow icon"></i>
    </a>
    {% endif %}
</div>
{% else %}
 <a>no result</a>
{% endif %}
{#</div>#}

<script language="JavaScript">
function getQueryString(name) {
var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
var r = window.location.search.substr(1).match(reg);
if (r != null) return unescape(r[2]); return null;
}

function gotoUrl(arg){
    cate=getQueryString('cate');
    page=getQueryString('page');
    if(cate==null){location.href=window.location.href.split('?')[0]+'?page='+ arg;}
    else {location.href=window.location.href.split('?')[0]+'?cate='+cate+'&page='+ arg;}
}



</script>

{% endblock %}